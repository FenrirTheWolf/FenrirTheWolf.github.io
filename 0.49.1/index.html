<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style>
            #loader {
                border: 12px solid #f3f3f3;
                border-radius: 50%;
                border-top: 12px solid #444444;
                width: 70px;
                height: 70px;
                animation: spin 1s linear infinite;
            }
            @keyframes spin {
                100% {
                    transform: rotate(360deg);
                }
            }
            .center {
                position: absolute;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                margin: auto;
            }
        </style>
        <!-- Game Title: edit this -->
        <title>The Merging</title>
        <!-- End of Game Title -->
        <!-- Remove this if you don't use the Tangerine font in your
         stylesheet -->
        <!-- <link href='http://fonts.googleapis.com/css?family=Tangerine'
        rel='stylesheet' type='text/css'> -->
        <!-- This is your game's stylesheet, modify it if you like. -->
        <link media="screen" rel="stylesheet" href="media/css/undum.css">
        <!-- Suppport for mobile devices. -->
        <meta name="viewport" content="user-scalable=no, width=device-width">
        <link rel="apple-touch-icon" href="media/img/iphone/icon.png">
        <link rel="apple-touch-startup-image" href="media/img/iphone/splash.png">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <!--[if !IE]>-->
        <link media="only screen and (max-width: 640px)" rel="stylesheet" type="text/css" href="media/css/undum-mobile.css">
        <!--<![endif]-->
    </head>
    <body>
        <div id="loader" class="center"></div>
        <script>
            document.onreadystatechange = function() {
                if (document.readyState !== "complete") {
                    document.querySelector(
                        "body").style.visibility = "hidden";
                    document.querySelector(
                        "#loader").style.visibility = "visible";
                } else {
                    document.querySelector(
                        "#loader").style.display = "none";
                    document.querySelector(
                        "body").style.visibility = "visible";
                }
            };
        </script>
        <!-- This isn't needed and isn't visible in desktop versions,
         because we can display the character information and the
         tools onscreen all the time. -->
        <div id="toolbar">
            <!-- Set this to be a small version of the title, for the
           toolbar on mobile devices. -->
            <h1>Undum</h1>
            <div class="nav">
                <a href="#" class="button" id="menu-button">Menu</a>
            </div>
        </div>
        <ul id="menu">
            <li><a id='letest3' href="#title, #content_wrapper">Story</a></li>
            <li><a id='letest' href="#tools_portrait">Character</a></li>
            <li><a id='letest2' href="#info_panel">Info</a></li>
        </ul>
        <div id="page">
            <div id="mid_panel">
                <div id="title">
                    <img id="title2" src="media/img/cover.jpg" alt="" style="width: 100%;display: inline-block;height: auto;">
                    <div class="label">
                        <!-- Game Title: edit this -->
                        <!-- End of Game Title -->
                        <noscript>
                            <p class="noscript_message">This game requires
                                Javascript.</p>
                        </noscript>
                        <p class="click_message">
                            This game contains adult content. Leave if you are under 18.
                        </p>
                    </div>
                </div>
                <div id="content_wrapper">
                    <div id="content">
                    </div>
                    <a name="end_of_content"></a>
                </div>
                <div id="shopmenu">
                    <button onclick="closeshop()" id="shopclose">X</button>
                    <div id="smtable">
                        <div id="smpic"></div>
                        <div id="smtext"></div>
                    </div>
                    <div id="shopswap" onclick="shopswaper()" class="shoppic shoppicselect">
                        <div id="shoppic"></div>
                        <div id="shopdesc"></div>
                        <div id="shopdetail"></div>
                    </div>
                </div>
            </div>
            <div id="tools_wrapper">
                <div id="tools_portrait" class="toolsportrait">
                    <img id="portait1" class="xeyport" src="" alt="">
                    <img id="portait1a" class="xeyportcrotch" src="" alt="">
                    <img id="portait2" class="xeyport" src="" alt="">
                    <img id="portait3" class="xeyport" src="" alt="">
                    <img id="portait4" class="xeyport" src="" alt="">
                    <img id="portait5" class="xeyport" src="" alt="">
                    <img id="portait6" class="xeyport" src="" alt="">
                    <img id="portait7" class="xeyport" src="" alt="">
                    <img id="portait8" class="xeyport" src="" alt="">
                    <img id="portait9" class="xeyportsprite" src="" alt="">
                    <img id="portait10" class="xeyport" src="" alt="">
                    <img id="portait11" class="xeyport" onmouseover="classswapperin(this)" onmouseout="classswapperout(this)" src="" alt="">
                </div>
                <div id="info_panel" class="tools left">
                    <h1>The merging</h1>
                    <div id="character">
                        <div id="qualities"></div>
                        <div id="character_text">
                            <!-- <h1>Character</h1>
              <div id="character_text_content"></div> -->
                        </div>
                    </div>
                    <!-- Game Background: edit this -->
                    <p>
                    </p>
                    <!-- End of Game Background -->
                    <!-- SPeed buttons -->
                    <div class="speedbuttons">
                        <p id="speedtitle"></p>
                        <button onclick="speedchange()" id="speeddown">Game Speed</button><br>
                        <button onclick="clearok()" id="clearbutton">Screen clearing</button>
                    </div>
                    <!-- Screen clearing -->
                    <div class='buttons'>
                        <button id="slot">Slot 1</button><button id="save">Save</button><button id="erase">Erase</button><button id="load">Load</button>
                    </div>
                    <div id="browserholder"></div>
                    <div style="line-height: normal;display: inline-block;">
                        <a target="_blank" class="adverth" style="float:left;" href="https://discord.gg/w4ckS6pQWe"><img src="media/img/joindiscord.png" class="advert" alt="" style="max-width:50vw;display: inline-block;height: auto;margin-top: .5em;"></a>
                        <a target="_blank" class="adverth" style="float:right;" href="https://patreon.com/XeyGames"><img src="media/img/patreon.png" class="advert" alt="" style="max-width:50vw;display: inline-block;height: auto;margin-top: .5em;"></a>
                    </div>
                    <div id="legal">
                        <!-- Your Copyright: edit this -->
                        <p><a target="_blank" class="raw" href="https://patreon.com/XeyGames">Content by Xeylef.</a><a target="_blank" class="raw" href="https://www.furaffinity.net/user/shalewd/">Art by Shalon</a></p>
                        <!-- End of Your Copyright -->
                        <!-- This line is totally optional. -->
                        <p>Created with Undum</p>
                        <p id="creatorname">Host written by</p>
                    </div>
                    <div>
                        <button onclick="setMuteVolume()" type="button"><img src="media/audio/mute.png" alt=""></button>
                        <button onclick="setHalfVolume()" type="button"><img src="media/audio/musicdown.png" alt=""></button>
                        <button onclick="setFullVolume()" type="button"><img src="media/audio/musicup.png" alt=""></button>
                        <div class="tooltip">Music
                            <span class="tooltiptext">Dark Fog by Kevin MacLeod<br>
                                Link: https://incompetech.filmmusic.io/song/3605-dark-fog<br>
                                License: https://filmmusic.io/standard-license</span>
                        </div><br>
                        <audio id="myV" loop>
                            <source src="media/audio/music.mp3">
                            Your browser does not support HTML5 audio.
                        </audio>
                        <script>
                            var vid = document.getElementById("myV");
                            vid.muted = false;
                            var newvol = 10;
                            vid.volume = newvol / 100;
                            function setHalfVolume() {
                                if (newvol > 10) {
                                    newvol -= 10;
                                } else if (newvol > 1) {
                                    newvol -= 1;
                                } else {
                                }
                                vid.volume = newvol / 100;
                            }
                            function setMuteVolume() {
                                vid.volume = 0;
                            }
                            function setFullVolume() {
                                if (newvol >= 100) {
                                } else {
                                    if (newvol < 10) {
                                        newvol = 0;
                                    }
                                    newvol += 10;
                                }
                                vid.volume = newvol / 100;
                            }
                        </script>
                    </div>
                    <div>
                        <p id="versionnum">"test"</p>
                    </div>
                </div>
            </div> <!-- End of div.tools_wrapper -->
            <div id="blinky" class="blink_message"></div>
        </div> <!-- End of div.page -->
        <!-- Holds UI elements that will be cloned and placed in the main
         page. This block itself is always hidden. -->
        <div id="ui_library">
            <div id="quality" class="quality">
                <span class="name" data-attr="name"></span>
                <span class="value" data-attr="value"></span>
            </div>
            <div id="quality2" class="quality">
                <div class="tooltip2">
                    <span class="name" data-attr="name"></span>
                    <span class="value" data-attr="value"></span>
                    <span style="z-index:1000;bottom:86%" data-attr="holder" class="tooltiptext2">"holder"</span>
                </div>
            </div>
            <div id="quality_group" class="quality_group">
                <h2 data-attr="title"></h2>
                <div class="qualities_in_group">
                </div>
            </div>
            <div id="progress_bar" class="progress_bar">
                <span class="name" data-attr="name"></span>
                <span class="value" data-attr="value"></span>
                <div class="progress_bar_track">
                    <div class="progress_bar_color" data-attr="width" data-attr2="background-image">
                    </div>
                </div>
                <span class="left_label" data-attr="left_label"></span>
                <span class="right_label" data-attr="right_label"></span>
            </div>
            <hr id="turn_separator">
        </div>
        <!-- You don't need to have this block here, but it is defined in
         the CSS file as hidden, so it is a good spot to hide content
         you want to load from your game code. See the
         tutorial.game.js file for details of how this is used. -->
        <div id="content_library">
            <div id="s_situations">
                <h1>Situations</h1>
                <p>
                    In Undum, all interaction takes place in a situation. You
                    can think of it either as a 'Room' in traditional
                    interactive fiction (although it is less flexible than
                    that), or as a 'Page' in a Choose Your Own Adventure book
                    (though it is more flexible than that).
                </p>
                <p>
                    At any point, the character is in exactly one situation, and
                    that situation is responsible for everything that happens to
                    them. Situations are chunks of code that generate the output
                    you are reading here. For example, this text was generated
                    by the <em>enter</em> method of the 'situations' situation.
                </p>
                <p class='transient'>
                    Let's <a href='todo'>move on again</a>.
                </p>
            </div>
            <div id="s_saving">
                <h1>Saving and Loading</h1>
                <p>The only piece of the UI we haven't talked about is the
                    'Save' and 'Erase' buttons on the left panel. These are only
                    visible if your browser supports client-side data
                    storage. Clicking 'Save' stores your game, so you can pick
                    it up again later. There is currently no 'Load' button, the
                    game loads when the page loads. There is also no way to save
                    multiple games, and select which one you want to play. These
                    are both things I'd like to change in the future.
                </p>
                <p>
                    Potentially your game could generate huge amounts of
                    text. And that would be difficult to store client side
                    (there are unpredictable limits), especially when we move
                    towards having multiple save files. So instead Undum saves
                    your character as the list of links you clicked. Loading a
                    save-file consists of playing through your game again,
                    quickly. This is a beneficial approach for debugging too. It
                    means when you're polishing and correcting typos, you can
                    save and load the game and scroll through the transcript to
                    see your corrections. If we saved the text, your save file
                    would have the error in it and you'd have to manually replay
                    the game to see the correction.
                </p>
                <p class='transient'>
                    Let's return to the <a href='hub'>topic list</a>.
                </p>
            </div>
            <!-- Some situations defined entirely in the HTML -->
            <div id="hub" class="situation" data-choices="#topic" data-option-text="View Topic List">
                <h1 class="transient">Locations</h1>
                <p class="transient">Choose a destination.</p>
            </div>
            <div id="implicit" class="situation" data-tags="topic" data-heading="Implicit Choices" data-display-order="7" data-choices="#example">
                <p>When you're writing an Undum game, you often need certain
                    options to be available only when certain conditions hold. You
                    might have an option to remove a secret panel in a haunted
                    house, but that should only be visible if the character knows
                    where it is. If options are available in lots of situations, it
                    can be very difficult to keep track of what options are
                    allowed, and to produce just the right list of choices.</p>
                <p>To help with this, Undum can generate a list of situation
                    links for you. It does this in three steps. Firstly, each
                    situation can be given one or more tags, this allows you to
                    easily ask for links to all situations with the 'in-hallway'
                    tag, for example. Secondly, situations can have
                    a <em>canView</em> method, which gets to decide whether that
                    situation should appear. That method can look at the
                    current state of the character to decide whether to appear
                    or not. Thirdly, <em>SimpleSituation</em>s have a <em>choices</em>
                    option. If it is set to one or more tags, it handles the building
                    of the choice list.</p>
                <p>You've seen this already in the topic list. The topic list
                    is generated automatically. All of the situations in the topic
                    list are always available, however.
                    <span class="transient">So here is an example of
                        automatic options that may change:</span>
                </p>
            </div>
            <div id="example-choices" class="situation" data-choices="#example">
                <p class="transient">You can return to the
                    <a href='hub'>Topic List</a> or choose another option from
                    this example:
                </p>
            </div>
        </div>
        <!-- Load the libraries we depend on -->
        <div><audio id='coiner1'>
                <source src='media/audio/coins1.mp3'>
            </audio>
            <audio id='coiner2'>
                <source src='media/audio/coins2.mp3'>
            </audio>
            <audio id='coiner3'>
                <source src='media/audio/coins3.mp3'>
            </audio>
            <audio id='coiner4'>
                <source src='media/audio/coins4.mp3'>
            </audio>
            <audio id='coiner5'>
                <source src='media/audio/coins5.mp3'>
            </audio>
            <audio id='sfxb1'>
                <source src='media/audio/b1.mp3'>
            </audio>
            <audio id='sfxb2'>
                <source src='media/audio/b2.mp3'>
            </audio>
        </div>
        <script>
        </script>
        <script src="media/js/jquery-2.1.3.min.js"></script>
        <script src="media/js/undum.js"></script>
        <!-- Change the name of this file. It is your main game file. -->
        <script src="modules/Variables.js"></script>
        <script src="modules/newhosts/Hostprototype.js"></script>
        <script src="modules/newhosts/Ch2Mark.js"></script>
        <script src="modules/newhosts/Ch2Keagen.js"></script>
        <script src="modules/newhosts/Ravel.js"></script>
        <script src="modules/newhosts/Will.js"></script>
        <script src="modules/newhosts/Dominic.js"></script>
        <script src="modules/newhosts/Ross.js"></script>
        <script src="modules/newhosts/Dusk.js"></script>
        <script src="modules/newhosts/Faolan.js"></script>
        <script src="modules/newhosts/Fenrir.js"></script>
        <script src="modules/newhosts/Michael.js"></script>
        <script src="modules/newhosts/Kai.js"></script>
        <script src="modules/newhosts/Richard.js"></script>
        <script src="modules/newhosts/Braecken.js"></script>
        <script src="modules/newhosts/Danilo.js"></script>
        <script src="modules/newhosts/Deridran.js"></script>
        <script src="modules/newhosts/Dari.js"></script>
        <script src="modules/newhosts/Leika.js"></script>
        <script src="modules/newhosts/Abyss.js"></script>
        <script src="modules/newhosts/Yumi.js"></script>
        <script src="modules/newhosts/Nuly.js"></script>
        <script src="modules/newhosts/Vey.js"></script>
        <script src="modules/newhosts/Ravel2.js"></script>
        <script src="modules/newhosts/Scarlet.js"></script>
        <script src="modules/Intro.js"></script>
        <script src="modules/Runes.js"></script>
        <script src="modules/Weekend.js"></script>
        <script src="modules/Rareminigame.js"></script>
        <script src="modules/Masturbate.js"></script>
        <script src="modules/Events.js"></script>
        <script src="modules/Oper.js"></script>
        <script src="modules/Portrait.js"></script>
        <script src="modules/Bret.js"></script>
        <script src="modules/Keagen.js"></script>
        <script src="modules/Mark.js"></script>
        <script src="modules/Morning.js"></script>
        <script src="modules/Aftermorning.js"></script>
        <script src="modules/Tf.js"></script>
        <script src="modules/Work.js"></script>
        <script src="modules/Timemodule.js"></script>
        <script src="modules/Evening.js"></script>
        <script src="modules/Hospital.js"></script>
        <script src="modules/Escape.js"></script>
        <script src="modules/Chapter2.js"></script>
        <script src="modules/Sex.js"></script>
        <script src="modules/Ch2home.js"></script>
        <script src="modules/Ch2morning.js"></script>
        <script src="mergingtest.game.en.js"></script>
        <div id="preload">
            <img src="media/img/voub1.png" width="1" height="1" alt="" />
        </div>
    </body>
</html>
